#!/usr/bin/env bash
# Neofetch config for Termux (Android)
# Author: Aria + ChatGPT (2025)
# https://github.com/dylanaraps/neofetch

# ===== CUSTOM PRINT INFO =====
print_info() {
    info "User" users
    info "Hostname" title
    info "OS" distro
    info "Load Average" loadavg
    info "CPU" cpu
    info "GPU" gpu
    info "RAM" memory
    info "Disk" disk
    prin
    info "Uptime" uptime
    info "Date" "$(date '+%Y-%m-%d %H:%M:%S')"
    info "Battery" battery
    info "WiFi SSID" wifi_name
    prin "WiFi IP (Local)" "$(get_local_ip)"
    prin "Public IP" "$(get_public_ip)"
}

# ===== HELPER FUNCTIONS =====

# Ambil IP lokal dari interface wlan0
get_local_ip() {
    if command -v ifconfig &>/dev/null; then
        ifconfig 2>/dev/null | awk '
                BEGIN { in_wlan=0 }
                /^wlan0/ { in_wlan=1; next }
                in_wlan && /inet / { print $2; exit }'
        return
    fi

    echo "N/A"
}

# Ambil IP publik dari internet
get_public_ip() {
    if command -v curl &>/dev/null; then
        curl -fs --max-time 3 https://ident.me || echo "N/A"
    elif command -v wget &>/dev/null; then
        wget -qO- --timeout=3 https://ident.me || echo "N/A"
    else
        echo "N/A"
    fi
}

# ===== BASIC CONFIG =====

# Title
title_fqdn="off"

# Kernel
kernel_shorthand="on"

# Distro
distro_shorthand="off"
os_arch="on"

# Uptime
uptime_shorthand="on"

# Memory
memory_percent="off"
memory_unit="gib"

# Packages
package_managers="on"

# Shell
shell_path="off"
shell_version="on"

# CPU
speed_type="bios_limit"
speed_shorthand="off"
cpu_brand="on"
cpu_speed="on"
cpu_cores="logical"
cpu_temp="off"

# GPU
gpu_brand="on"
gpu_type="all"

# Resolution
refresh_rate="off"

# GTK (ignored in Termux)
gtk_shorthand="off"
gtk2="on"
gtk3="on"

# IP Address settings
public_ip_host="http://ident.me"
public_ip_timeout=2
local_ip_interface=('wlan0')

# Disk
disk_show=('/')
disk_subtitle="mount"
disk_percent="on"

# Song (disabled)
music_player="off"

# Text Colors
colors=(distro)

# Text Options
bold="on"
underline_enabled="on"
underline_char="-"
separator=":"

# Color Blocks
block_range=(0 15)
color_blocks="on"
block_width=3
block_height=1
col_offset="auto"

# Progress Bars
bar_char_elapsed="-"
bar_char_total="="
bar_border="on"
bar_length=15
bar_color_elapsed="distro"
bar_color_total="distro"

# Info display
cpu_display="off"
memory_display="off"
battery_display="off"
disk_display="off"

# Backend Settings
image_backend="ascii"
image_source="${HOME}/.config/neofetch/logo.txt"

# ASCII Options
ascii_distro="android"   # tampilkan logo Android
ascii_colors=(2 3 4 5 6) # warna gradasi hijau
ascii_bold="on"

# Image Options
image_loop="off"
thumbnail_dir="${XDG_CACHE_HOME:-${HOME}/.cache}/thumbnails/neofetch"
crop_mode="normal"
crop_offset="center"
image_size="auto"
gap=3
yoffset=0
xoffset=0
background_color=

# Misc Options
stdout="off"
